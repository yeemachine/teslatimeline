BOOMR_start=new Date().getTime();function BOOMR_check_doc_domain(b){var c;if(!b){if(window.parent===window||!document.getElementById("boomr-if-as")){return}if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window){try{if(BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain){BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain}}catch(a){if(!BOOMR.isCrossOriginError(a)){BOOMR.addError(a,"BOOMR_check_doc_domain.domainFix")}}}b=document.domain}if(b.indexOf(".")===-1){return}try{c=window.parent.document;return}catch(a){document.domain=b}try{c=window.parent.document;return}catch(a){b=b.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(b)}BOOMR_check_doc_domain();(function(i){var f,g,e,a,c,j,b,h,k=i;if(i.parent!==i&&document.getElementById("boomr-if-as")&&document.getElementById("boomr-if-as").nodeName.toLowerCase()==="script"){i=i.parent;a=document.getElementById("boomr-if-as").src}e=i.document;if(!i.BOOMR){i.BOOMR={}}BOOMR=i.BOOMR;if(BOOMR.version){return}BOOMR.version="0.9";BOOMR.window=i;BOOMR.boomerang_frame=k;if(!BOOMR.plugins){BOOMR.plugins={}}(function(){try{if(new i.CustomEvent("CustomEvent")!==undefined){c=function(l,m){return new i.CustomEvent(l,m)}}}catch(d){}try{if(!c&&e.createEvent&&e.createEvent("CustomEvent")){c=function(m,n){var l=e.createEvent("CustomEvent");n=n||{cancelable:false,bubbles:false};l.initCustomEvent(m,n.bubbles,n.cancelable,n.detail);return l}}}catch(d){}if(!c&&e.createEventObject){c=function(m,n){var l=e.createEventObject();l.type=l.propertyName=m;l.detail=n.detail;return l}}if(!c){c=function(){return undefined}}}());j=function(d,n,m){var o=c(d,{detail:n});if(!o){return}function l(){if(e.dispatchEvent){e.dispatchEvent(o)}else{if(e.fireEvent){e.fireEvent("onpropertychange",o)}}}if(m){BOOMR.setImmediate(l)}else{l()}};if(typeof document.hidden!=="undefined"){b="visibilityState";h="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){b="mozVisibilityState";h="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){b="msVisibilityState";h="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){b="webkitVisibilityState";h="webkitvisibilitychange"}}}}f={beacon_url:"",beacon_type:"AUTO",site_domain:i.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:true,strip_query_string:false,onloadfired:false,handlers_attached:false,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(d){return function(l){var m;if(!l){l=i.event}if(l.target){m=l.target}else{if(l.srcElement){m=l.srcElement}}if(m.nodeType===3){m=m.parentNode}if(m&&m.nodeName.toUpperCase()==="OBJECT"&&m.type==="application/x-shockwave-flash"){return}f.fireEvent(d,m)}},fireEvent:function(d,p){var m,n,l;d=d.toLowerCase();if(!this.events.hasOwnProperty(d)){return}if(this.public_events.hasOwnProperty(d)){j(this.public_events[d],p)}l=this.events[d];for(m=0;m<l.length;m++){try{n=l[m];n.fn.call(n.scope,p,n.cb_data)}catch(o){BOOMR.addError(o,"fireEvent."+d+"<"+m+">")}}return}};g={t_lstart:null,t_start:BOOMR_start,t_end:null,t_onload:undefined,url:a,utils:{objectToString:function(p,n,l){var m=[],d;if(!p||typeof p!=="object"){return p}if(n===undefined){n="\n\t"}if(!l){l=0}if(Object.prototype.toString.call(p)==="[object Array]"){for(d=0;d<p.length;d++){if(l>0&&p[d]!==null&&typeof p[d]==="object"){m.push(this.objectToString(p[d],n+(n==="\n\t"?"\t":""),l-1))}else{if(n==="&"){m.push(encodeURIComponent(p[d]))}else{m.push(p[d])}}}n=","}else{for(d in p){if(Object.prototype.hasOwnProperty.call(p,d)){if(l>0&&p[d]!==null&&typeof p[d]==="object"){m.push(encodeURIComponent(d)+"="+this.objectToString(p[d],n+(n==="\n\t"?"\t":""),l-1))}else{if(n==="&"){m.push(encodeURIComponent(d)+"="+encodeURIComponent(p[d]))}else{m.push(d+"="+p[d])}}}}}return m.join(n)},getCookie:function(d){if(!d){return null}d=" "+d+"=";var l,m;m=" "+e.cookie+";";if((l=m.indexOf(d))>=0){l+=d.length;m=m.substring(l,m.indexOf(";",l)).replace(/^"/,"").replace(/"$/,"");return m}return null},setCookie:function(n,o,d){var p,m,l,r,q;if(!n||!f.site_domain){return false}p=this.objectToString(o,"&");m=n+'="'+p+'"';r=[m,"path=/","domain="+f.site_domain];if(d){q=new Date();q.setTime(q.getTime()+d*1000);q=q.toGMTString();r.push("expires="+q)}if(m.length<500){e.cookie=r.join("; ");l=this.getCookie(n);if(p===l){return true}}return false},getSubCookies:function(p){var o,n,d,r,m=false,q={};if(!p){return null}if(typeof p!=="string"){return null}o=p.split("&");for(n=0,d=o.length;n<d;n++){r=o[n].split("=");if(r[0]){r.push("");q[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);m=true}}return m?q:null},removeCookie:function(d){return this.setCookie(d,{},-86400)},cleanupURL:function(d){if(!d||Object.prototype.toString.call(d)==="[object Array]"){return""}if(f.strip_query_string){return d.replace(/\?.*/,"?qs-redacted")}return d},hashQueryString:function(l,d){if(!l){return l}if(!l.match){BOOMR.addError("TypeError: Not a string","hashQueryString",typeof l);return""}if(l.match(/^\/\//)){l=location.protocol+l}if(!l.match(/^(https?|file):/)){return""}if(d){l=l.replace(/#.*/,"")}if(!BOOMR.utils.MD5){return l}return l.replace(/\?([^#]*)/,function(n,m){return"?"+(m.length>10?BOOMR.utils.MD5(m):m)})},pluginConfig:function(q,d,n,m){var l,p=0;if(!d||!d[n]){return false}for(l=0;l<m.length;l++){if(d[n][m[l]]!==undefined){q[m[l]]=d[n][m[l]];p++}}return(p>0)},arrayFilter:function(p,l){var d=[];if(typeof p.filter==="function"){d=p.filter(l)}else{var m=-1,n=p.length,o;while(++m<n){o=p[m];if(l(o,m,p)){d[d.length]=o}}}return d},addObserver:function(n,l,p,s,m,r){var q={observer:null,timer:null};if(!window.MutationObserver||!s||!n){return null}function d(o){var t=false;if(q.timer){clearTimeout(q.timer);q.timer=null}if(s){t=s.call(r,o,m);if(!t){s=null}}if(!t&&q.observer){q.observer.disconnect();q.observer=null}if(typeof t==="number"&&t>0){q.timer=setTimeout(d,t)}}q.observer=new MutationObserver(d);if(p){q.timer=setTimeout(d,q.timeout)}q.observer.observe(n,l);return q},addListener:function(m,l,d){if(m.addEventListener){m.addEventListener(l,d,false)}else{if(m.attachEvent){m.attachEvent("on"+l,d)}}},removeListener:function(m,l,d){if(m.removeEventListener){m.removeEventListener(l,d,false)}else{if(m.detachEvent){m.detachEvent("on"+l,d)}}},pushVars:function(p,r,q){var n,o,d=0,m;for(n in r){if(r.hasOwnProperty(n)){if(Object.prototype.toString.call(r[n])==="[object Array]"){for(o=0;o<r[n].length;++o){d+=BOOMR.utils.pushVars(p,r[n][o],n+"["+o+"]")}}else{m=document.createElement("input");m.type="hidden";m.name=(q?(q+"["+n+"]"):n);m.value=(r[n]===undefined||r[n]===null?"":r[n]);p.appendChild(m);d+=encodeURIComponent(m.name).length+encodeURIComponent(m.value).length+2}}}return d},sendData:function(m,p){var l=document.createElement("input"),o=[f.beacon_url];m.method=p;m.id="beacon_form";m.enctype="application/x-www-form-urlencoded";if(f.secondary_beacons&&f.secondary_beacons.length){o.push.apply(o,f.secondary_beacons)}function d(r){var q=document.getElementById(r);if(q){q.parentNode.removeChild(q)}}function n(){var s,r="boomerang_post-"+encodeURIComponent(m.action)+"-"+Math.random();try{s=document.createElement('<iframe name="'+r+'">')}catch(t){s=document.createElement("iframe")}m.action=o.shift();s.name=s.id=r;s.style.display=m.style.display="none";s.src="javascript:false";d(s.id);d(m.id);document.body.appendChild(s);var q=(s.contentWindow||s.contentDocument);if(q.document){q=q.document}if(q.body){q.body.appendChild(m)}else{q.appendChild(m)}try{m.submit()}catch(t){}if(o.length){BOOMR.setImmediate(n)}setTimeout(function(){d(s.id)},10000)}n()}},init:function(l){var n,d,m=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string","secondary_beacons","autorun"];BOOMR_check_doc_domain();if(!l){l={}}if(l.primary&&f.handlers_attached){return this}if(l.log!==undefined){this.log=l.log}if(!this.log){this.log=function(){}}for(d in this.plugins){if(this.plugins.hasOwnProperty(d)){if(l[d]&&l[d].hasOwnProperty("enabled")&&l[d].enabled===false){f.disabled_plugins[d]=1;if(typeof this.plugins[d].disable==="function"){this.plugins[d].disable()}continue}if(f.disabled_plugins[d]){if(!l[d]||!l[d].hasOwnProperty("enabled")||l[d].enabled!==true){continue}if(typeof this.plugins[d].enable==="function"){this.plugins[d].enable()}delete f.disabled_plugins[d]}if(typeof this.plugins[d].init==="function"){try{this.plugins[d].init(l)}catch(o){BOOMR.addError(o,d+".init")}}}}for(n=0;n<m.length;n++){if(l[m[n]]!==undefined){f[m[n]]=l[m[n]]}}if(f.handlers_attached){return this}if(!f.onloadfired&&(l.autorun===undefined||l.autorun!==false)){if(e.readyState&&e.readyState==="complete"){BOOMR.loadedLate=true;this.setImmediate(BOOMR.page_ready_autorun,null,null,BOOMR)}else{if(i.onpagehide||i.onpagehide===null){BOOMR.utils.addListener(i,"pageshow",BOOMR.page_ready_autorun)}else{BOOMR.utils.addListener(i,"load",BOOMR.page_ready_autorun)}}}BOOMR.utils.addListener(i,"DOMContentLoaded",function(){f.fireEvent("dom_loaded")});(function(){var p,q;if(h!==undefined){BOOMR.utils.addListener(e,h,function(){f.fireEvent("visibility_changed")});BOOMR.subscribe("visibility_changed",function(){BOOMR.lastVisibilityEvent[BOOMR.visibilityState()]=BOOMR.now()})}BOOMR.utils.addListener(e,"mouseup",f.xb_handler("click"));p=e.getElementsByTagName("form");for(q=0;q<p.length;q++){BOOMR.utils.addListener(p[q],"submit",f.xb_handler("form_submit"))}if(!i.onpagehide&&i.onpagehide!==null){BOOMR.utils.addListener(i,"unload",function(){BOOMR.window=i=null})}}());f.handlers_attached=true;return this},page_ready_autorun:function(d){if(f.autorun){BOOMR.page_ready(d)}},page_ready:function(d){if(!d){d=i.event}if(!d){d={name:"load"}}if(f.onloadfired){return this}f.fireEvent("page_ready",d);f.onloadfired=true;return this},setImmediate:function(n,o,m,p){var d,l;if(typeof Error!=="undefined"){l=new Error();l=l.stack?l.stack.replace(/^Error/,"Called"):undefined}d=function(){n.call(p||null,o,m||{},l);d=null};if(i.setImmediate){i.setImmediate(d)}else{if(i.msSetImmediate){i.msSetImmediate(d)}else{if(i.webkitSetImmediate){i.webkitSetImmediate(d)}else{if(i.mozSetImmediate){i.mozSetImmediate(d)}else{setTimeout(d,10)}}}}},now:(function(){try{if("performance" in window&&window.performance&&window.performance.now){return function(){return Math.round(window.performance.now()+window.performance.timing.navigationStart)}}}catch(d){}return Date.now||function(){return new Date().getTime()}}()),visibilityState:(b===undefined?function(){return"visible"}:function(){return e[b]}),lastVisibilityEvent:{},subscribe:function(d,o,l,q){var m,n,p;d=d.toLowerCase();if(!f.events.hasOwnProperty(d)){return this}p=f.events[d];for(m=0;m<p.length;m++){n=p[m];if(n&&n.fn===o&&n.cb_data===l&&n.scope===q){return this}}p.push({fn:o,cb_data:l||{},scope:q||null});if(d==="page_ready"&&f.onloadfired){this.setImmediate(o,null,l,q)}if(d==="page_unload"||d==="before_unload"){(function(){var r,s=p.length;r=function(t){if(o){o.call(q,t||i.event,l)}if(d==="page_unload"&&s===f.events[d].length){BOOMR.real_sendBeacon()}};if(d==="page_unload"){if(i.onpagehide||i.onpagehide===null){BOOMR.utils.addListener(i,"pagehide",r)}else{BOOMR.utils.addListener(i,"unload",r)}}BOOMR.utils.addListener(i,"beforeunload",r)}())}return this},addError:function(l,n,d){var m;if(typeof l!=="string"){m=String(l);if(m.match(/^\[object/)){m=l.name+": "+(l.description||l.message).replace(/\r\n$/,"")}l=m}if(n!==undefined){l="["+n+":"+BOOMR.now()+"] "+l}if(d){l+=":: "+d}if(f.errors[l]){f.errors[l]++}else{f.errors[l]=1}},isCrossOriginError:function(d){return d.name==="SecurityError"||(d.name==="TypeError"&&d.message==="Permission denied")||(d.name==="Error"&&d.message&&d.message.match(/^(Permission|Access is) denied/))},addVar:function(l,m){if(typeof l==="string"){f.vars[l]=m}else{if(typeof l==="object"){var n=l,d;for(d in n){if(n.hasOwnProperty(d)){f.vars[d]=n[d]}}}}return this},removeVar:function(l){var d,m;if(!arguments.length){return this}if(arguments.length===1&&Object.prototype.toString.apply(l)==="[object Array]"){m=l}else{m=arguments}for(d=0;d<m.length;d++){if(f.vars.hasOwnProperty(m[d])){delete f.vars[m[d]]}}return this},hasVar:function(d){return f.vars.hasOwnProperty(d)},requestStart:function(l){var d=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+l,d);return{loaded:function(m){BOOMR.responseEnd(l,d,m)}}},responseEnd:function(l,d,m){if(typeof l==="object"&&l.url){f.fireEvent("xhr_load",l)}else{BOOMR.plugins.RT.startTimer("xhr_"+l,d);f.fireEvent("xhr_load",{name:"xhr_"+l,data:m})}},uninstrumentXHR:function(){},instrumentXHR:function(){},sendBeacon:function(d){if(d){f.beacon_url=d}if(!f.beaconQueued){f.beaconQueued=true;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return true},real_sendBeacon:function(){var o,l,r,q,m=0,s=[],d,t=0;if(!f.beaconQueued){return false}f.beaconQueued=false;for(o in this.plugins){if(this.plugins.hasOwnProperty(o)){if(f.disabled_plugins[o]){continue}if(!this.plugins[o].is_complete()){return false}}}var n=f.vars["http.initiator"]==="spa";var p=n?e.URL:e.URL.replace(/#.*/,"");f.vars.pgu=BOOMR.utils.cleanupURL(p);if(!f.vars.u||n){f.vars.u=f.vars.pgu}if(f.vars.pgu===f.vars.u){delete f.vars.pgu}f.vars.v=BOOMR.version;if(BOOMR.visibilityState()){f.vars["vis.st"]=BOOMR.visibilityState();if(BOOMR.lastVisibilityEvent.visible){f.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible}if(BOOMR.lastVisibilityEvent.hidden){f.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden}}f.vars["ua.plt"]=navigator.platform;f.vars["ua.vnd"]=navigator.vendor;if(i!==window){f.vars["if"]=""}for(o in f.errors){if(f.errors.hasOwnProperty(o)){s.push(o+(f.errors[o]>1?" (*"+f.errors[o]+")":""))}}if(s.length>0){f.vars.errors=s.join("\n")}f.errors={};f.fireEvent("before_beacon",f.vars);if(!f.beacon_url){return true}if(!BOOMR.hasVar("restiming")){d=[];for(o in f.vars){if(f.vars.hasOwnProperty(o)){t++;d.push(encodeURIComponent(o)+"="+(f.vars[o]===undefined||f.vars[o]===null?"":encodeURIComponent(f.vars[o])))}}r=f.beacon_url+((f.beacon_url.indexOf("?")>-1)?"&":"?")+d.join("&")}else{l=document.createElement("form");m=BOOMR.utils.pushVars(l,f.vars)}f.fireEvent("onbeacon",f.vars);if(m===0&&t===0){return this}if(t){q=new Image();q.src=r;if(f.secondary_beacons){for(o=0;o<f.secondary_beacons.length;o++){r=f.secondary_beacons[o]+"?"+d.join("&");q=new Image();q.src=r}}}else{BOOMR.utils.sendData(l,f.beacon_type==="AUTO"?(m>2000?"POST":"GET"):"POST")}return true}};delete BOOMR_start;if(typeof BOOMR_lstart==="number"){g.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else{if(typeof BOOMR.window.BOOMR_lstart==="number"){g.t_lstart=BOOMR.window.BOOMR_lstart}}if(typeof BOOMR.window.BOOMR_onload==="number"){g.t_onload=BOOMR.window.BOOMR_onload}(function(){var d;if(typeof console==="object"&&console.log!==undefined){g.log=function(n,o,p){console.log(p+": ["+o+"] "+n)}}d=function(m){return function(l,n){this.log(l,m,"boomerang"+(n?"."+n:""));return this}};g.debug=d("debug");g.info=d("info");g.warn=d("warn");g.error=d("error")}());
(function(){var d;for(d in g){if(g.hasOwnProperty(d)){BOOMR[d]=g[d]}}if(!BOOMR.xhr_excludes){BOOMR.xhr_excludes={}}}());j("onBoomerangLoaded",{BOOMR:BOOMR},true)}(window));
(function(a){var c=a.document,b;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.RT){return}b={onloadfired:false,unloadfired:false,visiblefired:false,initialized:false,complete:false,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:true,navigationType:0,navigationStart:undefined,responseStart:undefined,t_start:undefined,cached_t_start:undefined,t_fb_approx:undefined,r:undefined,r2:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},addedVars:[],updateCookie:function(h,i){var g,e,f,d;if(!this.cookie){return false}f=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{};if(typeof h==="object"){for(d in h){if(h.hasOwnProperty(d)){if(h[d]===undefined){if(f.hasOwnProperty(d)){delete f[d]}}else{if(d==="nu"||d==="r"){h[d]=BOOMR.utils.hashQueryString(h[d],true)}f[d]=h[d]}}}}e=BOOMR.now();if(i){f[i]=e}if(!BOOMR.utils.setCookie(this.cookie,f,this.cookie_exp)){return false}g=BOOMR.now();if(g-e>50){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+e+" -> "+g,"rt")}return true},initFromCookie:function(){var d,e;e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie));if(!e){return}e.s=Math.max(+e.ld||0,Math.max(+e.ul||0,+e.cl||0));if(e.s&&(e.r||e.nu)){this.r=e.r;d=BOOMR.utils.hashQueryString(c.URL,true);if(!this.strict_referrer||(e.nu&&e.nu===d&&e.s<+e.cl+15)||(e.s===+e.ul&&this.r===this.r2)){this.t_start=e.s;if(+e.hd>e.s){this.t_fb_approx=parseInt(e.hd,10)}}else{this.t_start=this.t_fb_approx=undefined}}this.updateCookie({s:undefined,r:undefined,nu:undefined,ul:undefined,cl:undefined,hd:undefined})},getBoomerangTimings:function(){var g,k,f,h,i;function d(m,l){var n=Math.round(m?m:0),e=Math.round(l?l:0);n=(n===0?0:(n-e));return n?n:""}if(BOOMR.t_start){BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start);BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end);BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart);BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)}}try{if(window.performance&&window.performance.getEntriesByName){k={"rt.bmr":BOOMR.url};for(f in k){if(k.hasOwnProperty(f)&&k[f]){g=window.performance.getEntriesByName(k[f]);if(!g||g.length===0){continue}g=g[0];h=d(g.startTime,0);i=[h,d(g.responseEnd,h),d(g.responseStart,h),d(g.requestStart,h),d(g.connectEnd,h),d(g.secureConnectionStart,h),d(g.connectStart,h),d(g.domainLookupEnd,h),d(g.domainLookupStart,h),d(g.redirectEnd,h),d(g.redirectStart,h)].join(",").replace(/,+$/,"");BOOMR.addVar(f,i);b.addedVars.push(f)}}}}catch(j){BOOMR.addError(j,"rt.getBoomerangTimings")}},checkPreRender:function(){if(BOOMR.visibilityState()!=="prerender"){return false}BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");return true},initFromNavTiming:function(){var d,f,e;if(this.navigationStart){return}f=a.performance||a.msPerformance||a.webkitPerformance||a.mozPerformance;if(f&&f.navigation){this.navigationType=f.navigation.type}if(f&&f.timing){d=f.timing}else{if(a.chrome&&a.chrome.csi&&a.chrome.csi().startE){d={navigationStart:a.chrome.csi().startE};e="csi"}else{if(a.gtbExternal&&a.gtbExternal.startE()){d={navigationStart:a.gtbExternal.startE()};e="gtb"}}}if(d){BOOMR.addVar("rt.start",e||"navigation");this.navigationStart=d.navigationStart||d.fetchStart||undefined;this.responseStart=d.responseStart||undefined;if(navigator.userAgent.match(/Firefox\/[78]\./)){this.navigationStart=d.unloadEventStart||d.fetchStart||undefined}}return},validateLoadTimestamp:function(f,e,d){if(e&&e.timing&&e.timing.loadEventEnd){return e.timing.loadEventEnd}else{if(d==="xhr"&&(!e||e.initiator!=="spa")){return f}else{if(BOOMR.loadedLate){if(a.performance&&a.performance.timing){if(a.performance.timing.loadEventStart&&a.performance.timing.loadEventStart<BOOMR.t_end){return a.performance.timing.loadEventStart}}else{return BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||f}}}}return f},setPageLoadTimers:function(d,f,g){var e;if(d!=="xhr"){b.initFromCookie();b.initFromNavTiming();if(b.checkPreRender()){return false}}if(d==="xhr"){if(g&&g.timing){e=g.timing.responseStart}}else{if(b.responseStart){e=b.responseStart}else{if(b.timers.hasOwnProperty("t_page")){BOOMR.plugins.RT.endTimer("t_page")}else{if(b.t_fb_approx){e=b.t_fb_approx}}}}if(e){BOOMR.plugins.RT.endTimer("t_resp",e);if(b.timers.t_load){BOOMR.plugins.RT.setTimer("t_page",b.timers.t_load.end-e)}else{BOOMR.plugins.RT.setTimer("t_page",f-e)}}if(b.timers.hasOwnProperty("t_postrender")){BOOMR.plugins.RT.endTimer("t_postrender");BOOMR.plugins.RT.endTimer("t_prerender")}return true},setSupportingTimestamps:function(d){if(d){BOOMR.addVar("rt.tstart",d)}if(typeof b.t_start==="number"&&b.t_start!==d){BOOMR.addVar("rt.cstart",b.t_start)}BOOMR.addVar("rt.bstart",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.addVar("rt.blstart",BOOMR.t_lstart)}BOOMR.addVar("rt.end",b.timers.t_done.end)},determineTStart:function(e,f){var d;if(e==="xhr"){if(f&&f.name&&b.timers[f.name]){d=b.timers[f.name].start}else{if(f&&f.timing&&f.timing.requestStart){d=f.timing.requestStart}}if(typeof d==="undefined"&&f&&f.initiator==="spa"){BOOMR.addVar("rt.start","none")}else{BOOMR.addVar("rt.start","manual")}}else{if(b.navigationStart){d=b.navigationStart}else{if(b.t_start&&b.navigationType!==2){d=b.t_start;BOOMR.addVar("rt.start","cookie")}else{if(b.cached_t_start){d=b.cached_t_start}else{BOOMR.addVar("rt.start","none");d=undefined}}}}b.cached_t_start=d;return d},page_ready:function(){this.onloadfired=true},check_visibility:function(){if(BOOMR.visibilityState()==="visible"){b.visiblefired=true}if(b.visibilityState==="prerender"&&BOOMR.visibilityState()!=="prerender"){BOOMR.plugins.RT.done(null,"visible")}b.visibilityState=BOOMR.visibilityState()},page_unload:function(d){if(!this.unloadfired){BOOMR.plugins.RT.done(d,"unload")}this.updateCookie({r:c.URL},d.type==="beforeunload"?"ul":"hd");this.unloadfired=true},_iterable_click:function(e,f,h,d){var g;if(!h){return}while(h&&h.nodeName.toUpperCase()!==f){h=h.parentNode}if(h&&h.nodeName.toUpperCase()===f){g=d(h);this.updateCookie({nu:g},"cl");BOOMR.addVar("nu",BOOMR.utils.cleanupURL(g));b.addedVars.push("nu")}},onclick:function(d){b._iterable_click("Click","A",d,function(e){return e.href})},onsubmit:function(d){b._iterable_click("Submit","FORM",d,function(f){var e=f.getAttribute("action")||c.URL||"";return e.match(/\?/)?e:e+"?"})},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){if(b.addedVars&&b.addedVars.length>0){BOOMR.removeVar(b.addedVars);b.addedVars=[]}}};BOOMR.plugins.RT={init:function(d){if(a!==BOOMR.window){a=BOOMR.window}c=a.document;BOOMR.utils.pluginConfig(b,d,"RT",["cookie","cookie_exp","strict_referrer"]);b.r=b.r2=BOOMR.utils.hashQueryString(c.referrer,true);b.initFromCookie();b.getBoomerangTimings();if(b.initialized){return this}b.complete=false;b.timers={};b.check_visibility();BOOMR.subscribe("page_ready",b.page_ready,null,b);BOOMR.subscribe("visibility_changed",b.check_visibility,null,b);BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("dom_loaded",b.domloaded,null,b);BOOMR.subscribe("page_unload",b.page_unload,null,b);BOOMR.subscribe("click",b.onclick,null,b);BOOMR.subscribe("form_submit",b.onsubmit,null,b);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);BOOMR.subscribe("onbeacon",b.clear,null,b);b.initialized=true;return this},startTimer:function(d,e){if(d){if(d==="t_page"){this.endTimer("t_resp",e)}b.timers[d]={start:(typeof e==="number"?e:BOOMR.now())}}return this},endTimer:function(d,e){if(d){b.timers[d]=b.timers[d]||{};if(b.timers[d].end===undefined){b.timers[d].end=(typeof e==="number"?e:BOOMR.now())}}return this},setTimer:function(d,e){if(d){b.timers[d]={delta:e}}return this},addTimersToBeacon:function(g,e){var f,h,d=[];for(f in b.timers){if(b.timers.hasOwnProperty(f)){h=b.timers[f];if(typeof h.delta!=="number"){if(typeof h.start!=="number"){h.start=b.cached_t_start}h.delta=h.end-h.start}if(isNaN(h.delta)){continue}if(b.basic_timers.hasOwnProperty(f)){BOOMR.addVar(f,h.delta);b.addedVars.push(f)}else{d.push(f+"|"+h.delta)}}}if(d.length){BOOMR.addVar("t_other",d.join(","));b.addedVars.push("t_other")}if(e==="beacon"){b.timers={};b.complete=false}},done:function(j,f){try{}catch(h){}var e,g,i=BOOMR.now(),d=false;b.complete=false;g=b.validateLoadTimestamp(i,j,f);if(f==="load"||f==="visible"||f==="xhr"){if(!b.setPageLoadTimers(f,g,j)){return this}}e=b.determineTStart(f,j);this.endTimer("t_done",g);BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld","http.errno","http.method","xhr.sync");b.setSupportingTimestamps(e);this.addTimersToBeacon();BOOMR.addVar("r",BOOMR.utils.cleanupURL(b.r));if(b.r2!==b.r){BOOMR.addVar("r2",BOOMR.utils.cleanupURL(b.r2))}if(f==="xhr"&&j){if(j&&j.data){j=j.data}}if(f==="xhr"&&j){d=j.subresource;if(j.url){BOOMR.addVar("u",BOOMR.utils.cleanupURL(j.url.replace(/#.*/,"")));b.addedVars.push("u")}if(j.status&&(j.status<-1||j.status>=400)){BOOMR.addVar("http.errno",j.status)}if(j.method&&j.method!=="GET"){BOOMR.addVar("http.method",j.method)}if(j.headers){BOOMR.addVar("http.hdr",j.headers)}if(j.synchronous){BOOMR.addVar("xhr.sync",1)}if(j.initiator){BOOMR.addVar("http.initiator",j.initiator)}b.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator")}if(d&&d!=="passive"){BOOMR.addVar("rt.subres",1);b.addedVars.push("rt.subres")}b.updateCookie();if(f==="unload"){BOOMR.addVar("rt.quit","");if(!b.onloadfired){BOOMR.addVar("rt.abld","")}if(!b.visiblefired){BOOMR.addVar("rt.ntvu","")}}b.complete=true;BOOMR.sendBeacon();return this},is_complete:function(){return b.complete},navigationStart:function(){if(!b.navigationStart){b.initFromNavTiming()}return b.navigationStart}}}(window));
(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.IPv6){return}var a={complete:false,ipv6_url:"",host_url:"",timeout:1200,timers:{ipv6:{start:null,end:null},host:{start:null,end:null}},start:function(){this.load_img("ipv6","host")},load_img:function(){var c,e="?t="+(new Date().getTime())+Math.random(),h=0,d=null,f=this,g=Array.prototype.shift.call(arguments),b=arguments;if(!g||!this.timers.hasOwnProperty(g)){this.done();return false}if(!this[g+"_url"]){return this.load_img.apply(this,b)}c=new Image();c.onload=function(){f.timers[g].end=new Date().getTime();clearTimeout(h);c.onload=c.onerror=null;c=null;f.load_img.apply(f,b);f=b=null};d=function(){f.timers[g].supported=false;clearTimeout(h);c.onload=c.onerror=null;c=null;f.done();f=b=null};c.onerror=d;h=setTimeout(d,this.timeout);this.timers[g].start=new Date().getTime();c.src=this[g+"_url"]+e;return true},done:function(){if(this.complete){return}BOOMR.removeVar("ipv6_latency","ipv6_lookup");if(this.timers.ipv6.end!==null){BOOMR.addVar("ipv6_latency",this.timers.ipv6.end-this.timers.ipv6.start)}else{BOOMR.addVar("ipv6_latency","NA")}if(this.timers.host.end!==null){BOOMR.addVar("ipv6_lookup",this.timers.host.end-this.timers.host.start)}else{BOOMR.addVar("ipv6_lookup","NA")}this.complete=true;BOOMR.sendBeacon()},skip:function(){if(!this.complete){this.complete=true;BOOMR.sendBeacon()}return this}};BOOMR.plugins.IPv6={init:function(b){BOOMR.utils.pluginConfig(a,b,"IPv6",["ipv6_url","host_url","timeout"]);if(b&&b.wait){return this}if(!a.ipv6_url){a.complete=true;return this}if(!a.host_url){}if(BOOMR.window.location.protocol==="https:"){a.complete=true;return this}a.ipv6_url=a.ipv6_url.replace(/^https:/,"http:");a.host_url=a.host_url.replace(/^https:/,"http:");BOOMR.subscribe("page_ready",a.start,null,a);BOOMR.subscribe("before_unload",a.skip,null,a);return this},is_complete:function(){return a.complete}}}());
(function(){var a;if(typeof navigator==="object"){a=navigator.connection||navigator.mozConnection||navigator.webkitConnection||navigator.msConnection}if(!a){return}BOOMR.addVar("mob.ct",a.type);BOOMR.addVar("mob.bw",a.bandwidth);BOOMR.addVar("mob.mt",a.metered)}());
(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.NavigationTiming){return}var a={complete:false,xhr_done:function(f){var b=BOOMR.window,d,e={},c;if(!f){return}if(f.data){f=f.data}if(f.url&&b.performance&&b.performance.getEntriesByName){d=b.performance.getEntriesByName(f.url);if(d&&d.length>0){d=d[0];e={nt_red_st:d.redirectStart,nt_red_end:d.redirectEnd,nt_fet_st:d.fetchStart,nt_dns_st:d.domainLookupStart,nt_dns_end:d.domainLookupEnd,nt_con_st:d.connectStart,nt_con_end:d.connectEnd,nt_req_st:d.requestStart,nt_res_st:d.responseStart,nt_res_end:d.responseEnd};if(d.secureConnectionStart){e.nt_ssl_st=d.secureConnectionStart}for(c in e){if(e.hasOwnProperty(c)&&e[c]){e[c]+=b.performance.timing.navigationStart}}}}if(f.timing){d=f.timing;if(!e.nt_req_st){e.nt_req_st=d.requestStart}if(!e.nt_res_st){e.nt_res_st=d.responseStart}if(!e.nt_res_end){e.nt_res_end=d.responseEnd}e.nt_domint=d.domInteractive;e.nt_domcomp=d.domComplete;e.nt_load_st=d.loadEventEnd;e.nt_load_end=d.loadEventEnd}for(c in e){if(e.hasOwnProperty(c)&&!e[c]){delete e[c]}}BOOMR.addVar(e);try{a.addedVars.push.apply(a.addedVars,Object.keys(e))}catch(g){}this.complete=true;BOOMR.sendBeacon()},done:function(){var b=BOOMR.window,f,c,e,d;if(this.complete){return this}a.addedVars=[];f=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance;if(f&&f.timing&&f.navigation){c=f.navigation;e=f.timing;d={nt_red_cnt:c.redirectCount,nt_nav_type:c.type,nt_nav_st:e.navigationStart,nt_red_st:e.redirectStart,nt_red_end:e.redirectEnd,nt_fet_st:e.fetchStart,nt_dns_st:e.domainLookupStart,nt_dns_end:e.domainLookupEnd,nt_con_st:e.connectStart,nt_con_end:e.connectEnd,nt_req_st:e.requestStart,nt_res_st:e.responseStart,nt_res_end:e.responseEnd,nt_domloading:e.domLoading,nt_domint:e.domInteractive,nt_domcontloaded_st:e.domContentLoadedEventStart,nt_domcontloaded_end:e.domContentLoadedEventEnd,nt_domcomp:e.domComplete,nt_load_st:e.loadEventStart,nt_load_end:e.loadEventEnd,nt_unload_st:e.unloadEventStart,nt_unload_end:e.unloadEventEnd};if(e.secureConnectionStart){d.nt_ssl_st=e.secureConnectionStart}if(e.msFirstPaint){d.nt_first_paint=e.msFirstPaint}BOOMR.addVar(d);try{a.addedVars.push.apply(a.addedVars,Object.keys(d))}catch(g){}}if(b.chrome&&b.chrome.loadTimes){e=b.chrome.loadTimes();if(e){d={nt_spdy:(e.wasFetchedViaSpdy?1:0),nt_cinf:e.connectionInfo,nt_first_paint:e.firstPaintTime};BOOMR.addVar(d);try{a.addedVars.push.apply(a.addedVars,Object.keys(d))}catch(g){}}}this.complete=true;BOOMR.sendBeacon()},clear:function(){if(a.addedVars&&a.addedVars.length>0){BOOMR.removeVar(a.addedVars);a.addedVars=[]}this.complete=false}};BOOMR.plugins.NavigationTiming={init:function(){if(!a.initialized){BOOMR.subscribe("page_ready",a.done,null,a);BOOMR.subscribe("xhr_load",a.xhr_done,null,a);BOOMR.subscribe("before_unload",a.done,null,a);BOOMR.subscribe("onbeacon",a.clear,null,a);a.initialized=true}return this},is_complete:function(){return true}}}());BOOMR.init({beacon_url:"https://rumcollector.teslamotors.com/beacon",IPv6:{ipv6_url:"https://2604:a880:800:10::10dc:2001/favicon-196x196.png",host_url:"https://rumipv6.teslamotors.com/favicon-196x196.png"}});BOOMR.t_end=new Date().getTime();